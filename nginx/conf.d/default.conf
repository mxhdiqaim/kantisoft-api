# --- Subdomain: api.kantisoft.com (Proxies to Node.js API on 5473) ---
server {
    listen 80;
    server_name api.kantisoft.com;

    location / {
        proxy_pass http://api:5473;  # Target your API service
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}

# --- Subdomain: app.kantisoft.com (Proxies to Frontend Application) ---
server {
    listen 80;
    server_name app.kantisoft.com;

    location / {
        # Assuming your frontend container is named 'fe' and runs on port 3000
        proxy_pass http://fe:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}


# # --- Root Domain: kantisoft.com & www.kantisoft.com (Proxies to Landing Page) ---
# server {
#     listen 80;
#     server_name kantisoft.com www.kantisoft.com;
#
#     location / {
#         # Assuming your landing page container is named 'landing' and runs on port 4000
#         proxy_pass http://landing:4000;
#         proxy_set_header Host $host;
#         proxy_set_header X-Real-IP $remote_addr;
#         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#     }
# }